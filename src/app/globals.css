@import "tailwindcss";

/* ===========================
   THEME TOKENS (por atributo)
   =========================== */

/* Valores por defecto (fallback) — Light */
:root {
  /* Neutros */
  --bg: 255 255 255;
  /* #FFFFFF */
  --fg: 23 23 23;
  /* #171717 */
  --fg-muted: 23 23 23 / 0.70;
  --surface: 255 255 255;
  /* Cards / navs */
  --border: 229 231 235;
  /* #E5E7EB */

  /* Brand (tu paleta) */
  --brand-950: 0 23 31;
  /* #00171F */
  --brand-800: 0 52 89;
  /* #003459 */
  --brand-700: 0 96 150;
  /* tono intermedio para borders */
  --brand-600: 0 126 167;
  /* #007EA7 */
  --brand-500: 0 168 232;
  /* #00A8E8 */
  --brand-50: 230 247 254;
  /* #E6F7FE (hover suave) */

  /* Radios */
  --radius-lg: 1rem;
  --radius-xl: 1.25rem;
}

/* Tema CLARO explícito */
:root[data-theme="light"] {
  --bg: 255 255 255;
  --fg: 23 23 23;
  --fg-muted: 23 23 23 / 0.70;
  --surface: 255 255 255;
  --border: 229 231 235;

  --brand-950: 0 23 31;
  --brand-800: 0 52 89;
  --brand-700: 0 96 150;
  --brand-600: 0 126 167;
  --brand-500: 0 168 232;
  --brand-50: 230 247 254;
}

/* Tema OSCURO explícito */
:root[data-theme="dark"] {
  /* Base oscura con buen contraste */
  --bg: 11 15 26;
  /* ~ #0B0F1A */
  --fg: 229 231 235;
  /* gray-200 */
  --fg-muted: 229 231 235 / 0.70;
  --surface: 16 23 38;
  /* paneles: ~ #101726 */
  --border: 31 41 55;
  /* gray-800 */

  /* Ajustes de brand para dark (ligeramente más brillantes) */
  --brand-950: 0 23 31;
  /* mantiene identidad */
  --brand-800: 0 52 89;
  --brand-700: 0 110 172;
  --brand-600: 0 136 185;
  /* +luminosidad para contraste */
  --brand-500: 0 168 232;
  --brand-50: 20 48 72;
  /* hover sutil oscuro (≈ brand tint) */
}

/* ===========================
   MAPEO A TAILWIND v4
   =========================== */
@theme inline {
  --color-bg: rgb(var(--bg));
  --color-fg: rgb(var(--fg));
  --color-surface: rgb(var(--surface));
  --color-border: rgb(var(--border));

  --color-brand-50: rgb(var(--brand-50));
  --color-brand-500: rgb(var(--brand-500));
  --color-brand-600: rgb(var(--brand-600));
  --color-brand-700: rgb(var(--brand-700));
  --color-brand-800: rgb(var(--brand-800));
  --color-brand-950: rgb(var(--brand-950));

  /* radios opcionales (si Tailwind tokens los usa) */
  --radius-lg: var(--radius-lg);
  --radius-xl: var(--radius-xl);
}

/* ===========================
   BASE
   =========================== */
html,
body,
:root {
  height: 100%;
}

body {
  background: var(--color-bg);
  color: var(--color-fg);
  font-family: var(--font-geist-sans, ui-sans-serif, system-ui, Arial, Helvetica, sans-serif);
  /* transición suave al cambiar tema (opcional) */
  transition: background-color 120ms ease, color 120ms ease, border-color 120ms ease;
}

/* ===========================
   UTILIDADES SEMÁNTICAS ADICIONALES
   (conservan tus clases existentes)
   =========================== */

/* Clase que ya usas con barra: hay que escapar la / */
.text-fg\/70 {
  color: color-mix(in oklab, rgb(var(--fg)) 70%, transparent);
}

@supports not (color: color-mix(in oklab, white, black)) {
  .text-fg\/70 {
    color: rgba(var(--fg) / 0.70);
  }
}

/* Si deseas forzar radios coherentes en utilidades comunes */
.rounded-xl {
  border-radius: var(--radius-xl) !important;
}

.rounded-2xl {
  border-radius: calc(var(--radius-xl) + 6px) !important;
}

/* (Opcional) sombras suaves consistentes
.shadow-lg { box-shadow: 0 10px 25px 0 rgba(0,0,0,0.12); }
*/

/* ===========================
   NOTAS:
   - Las clases de Tailwind como bg-surface, text-fg, border-border,
     bg-brand-600, text-brand-800, hover:bg-brand-50, etc., ya funcionan
     porque están mapeadas a --color-* arriba.
   - El “anti-flash” del tema se maneja con el script en tu layout para
     establecer data-theme antes de hidratar.
   =========================== */